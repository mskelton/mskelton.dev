{
  "version": "https://jsonfeed.org/version/1",
  "title": "Mark Skelton",
  "home_page_url": "https://mskelton.dev",
  "feed_url": "https://mskelton.dev/rss/feed.json",
  "description": "Software developer, Christ follower, small town kid.",
  "icon": "https://mskelton.dev/favicon.ico",
  "author": {
    "name": "Mark Skelton"
  },
  "items": [
    {
      "id": "https://mskelton.dev/blog/better-code-highlighting-with-shiki",
      "content_html": "<p>I’ve used Prism for code highlighting in many projects, but I’ve never been very\nhappy with the results as it usually struggles to properly detect syntax,\nespecially with uncommon languages, or with JSX. As I was scrolling through\nTwitter the other day, I saw some mention about a project called\n<a href=\"https://github.com/shikijs/shiki\">Shiki</a>, which uses TextMate grammars and VS\nCode themes to perform syntax highlighting. This seemed like a great solution\nfor code highlighting, so I decided to give it a try.</p>\n<p>After a very simple process of installing shiki as well as the\n<a href=\"https://github.com/stefanprobst/rehype-shiki\">rehype-shiki</a> plugin, I was able\nto convert my blog to using shiki without any major gotchas! Check out the\nbefore/after image below to see the difference shiki makes in properly\nhighlighting code!</p>\n<div style=\"position:relative;overflow:hidden;user-select:none;-khtml-user-select:none;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none\" data-rcs=\"root\"><img alt=\"Old syntax highlighting\" srcSet=\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fold.bd44c046.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fold.bd44c046.png&amp;w=3840&amp;q=75 2x\" src=\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fold.bd44c046.png&amp;w=3840&amp;q=75\" width=\"1344\" height=\"1084\" decoding=\"async\" data-nimg=\"1\" loading=\"lazy\" style=\"color:transparent;display:block;width:100%;height:100%;max-width:100%;box-sizing:border-box;object-fit:cover;object-position:center;background-size:cover;background-position:center;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http%3A//www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 8 6&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;1&#x27;/%3E%3C/filter%3E%3Cimage preserveAspectRatio=&#x27;none&#x27; filter=&#x27;url(%23b)&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; height=&#x27;100%25&#x27; width=&#x27;100%25&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAABlBMVEUPDxEZGRs8VlQ6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQImWNgYGRkZEAFcBFMKSgAAAF6AAq/dVVDAAAAAElFTkSuQmCC&#x27;/%3E%3C/svg%3E&quot;)\"/><div style=\"position:absolute;top:0;left:0;width:100%;height:100%;will-change:clip;user-select:none;-khtml-user-select:none;-moz-user-select:none;-webkit-user-select:none\" data-rcs=\"clip-item\"><img alt=\"New syntax highlighting\" srcSet=\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fnew.f1e91370.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fnew.f1e91370.png&amp;w=3840&amp;q=75 2x\" src=\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fnew.f1e91370.png&amp;w=3840&amp;q=75\" width=\"1344\" height=\"1084\" decoding=\"async\" data-nimg=\"1\" loading=\"lazy\" style=\"color:transparent;display:block;width:100%;height:100%;max-width:100%;box-sizing:border-box;object-fit:cover;object-position:center;background-size:cover;background-position:center;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http%3A//www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 8 6&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;1&#x27;/%3E%3C/filter%3E%3Cimage preserveAspectRatio=&#x27;none&#x27; filter=&#x27;url(%23b)&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; height=&#x27;100%25&#x27; width=&#x27;100%25&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAABlBMVEUODhEXFhowa698AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGElEQVQImWNgZGRkZAADKMXAgBCBMdABAAHaAAzLNA8sAAAAAElFTkSuQmCC&#x27;/%3E%3C/svg%3E&quot;)\"/></div><div style=\"position:absolute;top:0;width:100%;height:100%;pointer-events:none\" data-rcs=\"handle-container\"><div style=\"position:absolute;height:100%;transform:translateX(-50%);pointer-events:all\"><div class=\"animate-[delay-appear_200ms_linear_200ms_forwards] text-teal-500 opacity-0 transition\" style=\"display:flex;flex-direction:column;place-items:center;height:100%;cursor:ew-resize;pointer-events:none\"><div class=\"__rcs-handle-line\" style=\"flex-grow:1;height:100%;width:2px;background-color:currentColor;pointer-events:auto;box-shadow:0 0 7px rgba(0,0,0,.35)\"></div><div class=\"__rcs-handle-button\" style=\"display:grid;grid-auto-flow:column;gap:8px;place-content:center;flex-shrink:0;width:56px;height:56px;border-radius:50%;border-style:solid;border-width:2px;pointer-events:auto;backdrop-filter:blur(7px);-webkit-backdrop-filter:blur(7px);box-shadow:0 0 7px rgba(0,0,0,.35);border-color:currentcolor\"><div style=\"width:0;height:0;border-top:8px solid transparent;border-right:10px solid;border-bottom:8px solid transparent\"></div><div style=\"width:0;height:0;border-top:8px solid transparent;border-right:10px solid;border-bottom:8px solid transparent;transform:rotate(180deg)\"></div></div><div class=\"__rcs-handle-line\" style=\"flex-grow:1;height:100%;width:2px;background-color:currentColor;pointer-events:auto;box-shadow:0 0 7px rgba(0,0,0,.35)\"></div></div></div></div></div>",
      "url": "https://mskelton.dev/blog/better-code-highlighting-with-shiki",
      "title": "Better Code Highlighting with Shiki",
      "summary": "Maintaining a developer blog almost always includes code highlighting. I recently switched from Prism to Shiki for more accurate and familiar code highlighting.",
      "date_modified": "2022-12-23T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/embracing-shell-scripts",
      "content_html": "<p>The year: 2022. The place: Southern Wisconsin. The scene: a programmer trying\nhis utmost to find the words to explain his passion for shell scripting and\nautomation. Okay, let me stop there before this article goes way off the deep\nend of silliness. This isn’t Star Trek, and I’m nowhere near that cool. Yet, I’d\nlike to tell you about something I find very exciting, the world of shell\nscripting and automation.</p>\n<p>Before you click away and go back to coding in your editor with all its amazing\nGUI tools (don’t worry, I’m not against modern editors, they are awesome), hear\nme out for just a bit. As a developer, you’ve no doubt used your shell to some\ndegree. Perhaps cloning a git repository, navigating your directory structure,\nor running the sketchy-looking command you found on StackOverflow that magically\nfixes the issue your computer was having. However, behind the shell you use lays\na whole world of productivity improvements and automation you can tap into.</p>\n<h2 id=\"whats-the-point-though\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#whats-the-point-though\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>What’s the point though?</h2>\n<p>When I first started digging deeper into documentation surrounding shell script\nin bash/zsh/fish, I found myself asking the question “what’s the point?” or\n“what can I automate that actually helps my daily work?” So, my goal in this\narticle is going to be to share some of my favorite shell scripts and associated\nworkflow improvements to help inspire you to consider what you can build. I’m\nnot going to dive too deep into how every piece works, there are tons of\nresources already about learning <code>bash</code> or your favorite shell scripting\nlanguage.</p>\n<p>So, let’s dive in!</p>\n<h2 id=\"printing-the-most-recent-commit-url\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#printing-the-most-recent-commit-url\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Printing the most recent commit URL</h2>\n<p>From time to time, when discussing a PR with coworkers, I’ll commit and push a\nchange to GitHub, and then copy the URL of that commit to send them in Slack or\nadd to a comment thread in the pull request. Previously, I didn’t have a great\nprocess to do this, often resulting in opening up my git graph in VS Code and\nremembering what to click to copy the commit URL, or going into the branch in\nGitHub to manually find the URL.</p>\n<p>To simplify this, I created a <code>commit-url</code> script which will print the URL of\nthe latest commit in my repository. This makes it as simple as running\n<code>commit-url | pbcopy</code> to print and then copy the commit URL to my clipboard to\nsend to my coworkers.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#565F89;font-style:italic\"># Get the SHA (e.g. ) of the latest commit in the repository unless a SHA was</span></span>\n<span class=\"line\"><span style=\"color:#565F89;font-style:italic\"># provided as an argument to this script.</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">commit=</span><span style=\"color:#C0CAF5\">${1</span><span style=\"color:#89DDFF\">:-</span><span style=\"color:#C0CAF5\">$(git rev-parse --short HEAD)}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#565F89;font-style:italic\"># Read the repository base URL from the git config</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">url=</span><span style=\"color:#89DDFF\">$(</span><span style=\"color:#9ECE6A\">git config --get remote.origin.url</span><span style=\"color:#89DDFF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#565F89;font-style:italic\"># Take the git@hostname.com:account/repo.git format and turn it into</span></span>\n<span class=\"line\"><span style=\"color:#565F89;font-style:italic\"># https://hostname.com/account/repo/commit/...</span></span>\n<span class=\"line\"><span style=\"color:#BB9AF7\">if</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">[[</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#C0CAF5\">$url</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">!=</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">https://</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#89DDFF\">*</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">]];</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">then</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">\turl=</span><span style=\"color:#89DDFF\">$(</span><span style=\"color:#9ECE6A\">echo </span><span style=\"color:#C0CAF5\">$url</span><span style=\"color:#9ECE6A\"> </span><span style=\"color:#89DDFF\">|</span><span style=\"color:#9ECE6A\"> sed </span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\">s/\\.git$//</span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\"> </span><span style=\"color:#89DDFF\">|</span><span style=\"color:#9ECE6A\"> sed </span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\">s/:/\\//</span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\"> </span><span style=\"color:#89DDFF\">|</span><span style=\"color:#9ECE6A\"> sed </span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\">s/^git@/https:\\/\\//</span><span style=\"color:#89DDFF\">&#x27;)</span></span>\n<span class=\"line\"><span style=\"color:#BB9AF7\">fi</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#2AC3DE\">echo</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#C0CAF5\">$url</span><span style=\"color:#9ECE6A\">/commit/</span><span style=\"color:#C0CAF5\">$commit</span><span style=\"color:#89DDFF\">&quot;</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"built-in-copying\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#built-in-copying\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Built-in copying</h2>\n<p>This script works great and while it’s not something I have to use all the time,\nit’s so nice to have it handy when I need it. However, it is a little bit of a\npain to have to always add <code>| pbcopy</code> when calling the script if I want to copy\nit, so I started to employ a pattern with scripts like this one where I would\ncreate an associated “helper” script that would be named the same with a <code>!</code> as\na postfix. This helper script would simply call the main script and pipe the\noutput through <code>pbcopy</code> automatically.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#A9B1D6\">commit-url </span><span style=\"color:#C0CAF5\">$1</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">|</span><span style=\"color:#A9B1D6\"> pbcopy</span></span>\n<span class=\"line\"></span></code></pre>\n<p>While it looks a little odd to have the exclamation point when running the\ncommand (<code>commit-url!</code>), it’s nice that several of my scripts are complementary\nin this way.</p>\n<h2 id=\"view-packagejson-contents\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#view-packagejson-contents\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>View package.json contents</h2>\n<p>This one might sound a little odd, but it’s actually quite handy when combined\nwith autocompletion. As a Node.js developer, I work with <code>package.json</code> files\nall the time. When moving between projects, I don’t always remember what scripts\nare available to start the project, run tests, etc. That’s where this script\ncomes in handy.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#565F89;font-style:italic\"># Check if there is a package.json file in the current directory</span></span>\n<span class=\"line\"><span style=\"color:#BB9AF7\">if</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">[[</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">-f</span><span style=\"color:#A9B1D6\"> package.json </span><span style=\"color:#89DDFF\">]];</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">then</span></span>\n<span class=\"line\"><span style=\"color:#89DDFF\">  </span><span style=\"color:#565F89;font-style:italic\"># Parse the package.json file with jq</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">\tjq </span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">.</span><span style=\"color:#C0CAF5\">$1</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#A9B1D6\"> package.json</span></span>\n<span class=\"line\"><span style=\"color:#BB9AF7\">else</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">\t</span><span style=\"color:#2AC3DE\">echo</span><span style=\"color:#A9B1D6\"> -e </span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">Error: Couldn&#x27;t find a package.json file in the current directory.</span><span style=\"color:#89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color:#BB9AF7\">fi</span></span>\n<span class=\"line\"></span></code></pre>\n<p>At its most simple level you can print the contents of the package.json file by\nsimply running <code>pkg</code>. However, if you add an argument you can drill down into a\nspecific section such as <code>pkg scripts</code> which would print only the scripts. Very\nsimple, yet very useful.</p>\n<h2 id=\"finding-urls-in-text\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#finding-urls-in-text\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Finding URLs in text</h2>\n<p>Sometimes, I have a piece of text that contains one or more URLs that I wish to\nextract. With a few lines of bash, this is a very simple task.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#565F89;font-style:italic\"># Loop through each line of the input stream</span></span>\n<span class=\"line\"><span style=\"color:#BB9AF7\">while</span><span style=\"color:#A9B1D6\"> IFS= </span><span style=\"color:#2AC3DE\">read</span><span style=\"color:#A9B1D6\"> line</span><span style=\"color:#89DDFF\">;</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">do</span></span>\n<span class=\"line\"><span style=\"color:#89DDFF\">  </span><span style=\"color:#565F89;font-style:italic\"># Print URLs matching the regex pattern</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#2AC3DE\">echo</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#C0CAF5\">$line</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">|</span><span style=\"color:#A9B1D6\"> grep -oE </span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\">https?://\\S+</span><span style=\"color:#89DDFF\">&#x27;</span></span>\n<span class=\"line\"><span style=\"color:#BB9AF7\">done</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Just like <code>commit-url</code>, I employ a similar concept where I can use <code>url!</code> to\nautomatically open the URLs found in the text.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">while</span><span style=\"color:#A9B1D6\"> IFS= </span><span style=\"color:#2AC3DE\">read</span><span style=\"color:#A9B1D6\"> line</span><span style=\"color:#89DDFF\">;</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">do</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">\t</span><span style=\"color:#2AC3DE\">echo</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#C0CAF5\">$line</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">|</span><span style=\"color:#A9B1D6\"> url </span><span style=\"color:#89DDFF\">|</span><span style=\"color:#A9B1D6\"> xargs open</span></span>\n<span class=\"line\"><span style=\"color:#BB9AF7\">done</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"sound-test\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#sound-test\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Sound test</h2>\n<p>This one is really simple, and useful when setting up a new external device like\na speaker or headphones. Rather than opening YouTube or Spotify to see if sound\nis working properly, run this script which I have named <code>ding</code> to send a simple\npush notification with sound. This is exclusive to macOS, but the concept could\neasily be ported to other operating systems.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#A9B1D6\">osascript -e </span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\">display notification &quot;Did you hear it?&quot; with title &quot;Sound test&quot; sound name &quot;Glass&quot;</span><span style=\"color:#89DDFF\">&#x27;</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"wrapping-up\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#wrapping-up\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Wrapping up</h2>\n<p>There is a lot more that could be said about shell scripting and bash, as well\nas the myriad of other ways to automate your workflow (which I plan on writing\nother posts about). I hope this article will inspire you to spend some time\nexploring shell scripting to automate your workflows and improve your\nproductivity.</p>",
      "url": "https://mskelton.dev/blog/embracing-shell-scripts",
      "title": "Embracing Shell Scripts",
      "summary": "In the world of modern editors and tools, shell scripting has become somewhat of a lost skill or a dark art. In this article, I'll show practical, real-world examples of shell scripts to encourage you to re-explore shell scripting to enhance your workflows and increase your productivity.",
      "date_modified": "2022-12-17T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/my-journey-to-become-a-staff-software-engineer",
      "content_html": "<p>This week, I begin my new position at <a href=\"https://www.widen.com\">Widen</a> as a staff\nsoftware engineer with a focus on JavaScript engineering and developer\nexperience. As I reflected on my career journey and what I learned to make it to\nthis point, I wanted to share my journey and learnings to help other developers\nadvance their careers and become better software engineers. In this article,\nI’ll outline the 9 most important lessons I learned in the last 5 years I’ve\nspent as a software engineer.</p>\n<h2 id=\"tldr\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#tldr\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>TLDR</h2>\n<ol>\n<li><a href=\"#try-things-out\">Try Things Out</a></li>\n<li><a href=\"#teach-what-you-learn\">Teach What You Learn</a></li>\n<li><a href=\"#read-documentation\">Read Documentation</a></li>\n<li><a href=\"#get-good-at-google\">Get Good at Google</a></li>\n<li><a href=\"#relentlessly-improve-efficiency\">Relentlessly Improve Efficiency</a></li>\n<li><a href=\"#chase-your-passion\">Chase Your Passion</a></li>\n<li><a href=\"#stay-humble\">Stay Humble</a></li>\n<li><a href=\"#embrace-your-teams-norms\">Embrace your team’s norms</a></li>\n<li><a href=\"#challenge-the-status-quo\">Challenge the Status Quo</a></li>\n</ol>\n<h2 id=\"try-things-out\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#try-things-out\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Try Things Out</h2>\n<p>One of the best ways to learn something is just trying it out to see what you\nlearn. So much of what I have learned is a result of experimenting with new\nlanguages and frameworks; trying new ways of architecting applications; and\ntaking inspiration from other developers and applying it to your own projects.\nThe key here is “trying”. You can learn so much if you give things a try, even\nif you decide you didn’t like it and you throw it away. I’ve started so many\nprojects and never completed them because completing them wasn’t the point,\nrather I was having fun trying new approaches to problems that I’ve solved many\ntimes to see if I can find a better way.</p>\n<h2 id=\"read-documentation\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#read-documentation\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Read Documentation</h2>\n<p>It often shocks me how often I see engineers asking questions or failing to\nunderstand concepts when there are so many amazing sources of documentation that\nclearly explain these things. You can learn so much by reading documentation,\neven if you aren’t looking for a specific answer to a question. In fact, this is\nwhere some of the best learnings come as you discover better ways of doing\nsomething that you may not have known were possible!</p>\n<p>Now, I know what you are thinking, reading documentation sounds boring. That can\ncertainly be the case, so set yourself small and attainable goals so you don’t\nburn out from reading too much documentation. For the past year, I’ve set a goal\nto read one page of documentation (or 5 minutes worth) every workday. Five\nminutes is such a small commitment, but you’d be surprised how much\ndocumentation you can read in a year when you do it every day!</p>\n<h2 id=\"get-good-at-google\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#get-good-at-google\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Get Good at Google</h2>\n<p>This might sound silly, especially when many companies (including mine) don’t\nallow using Google during coding interviews, but learning how to research\nproblems is a very important skill to becoming a more effective engineer. I\nfrequently see junior-level developers who when faced with a problem they can’t\nfigure out, will quickly go to a more experienced engineer to ask why their code\nisn’t working.</p>\n<p>While I always encourage reaching out to more experienced developers for help,\noverusing those resources can do two things. First, it limits the learning\npotential as getting a quick answer is quickly forgotten while taking the time\nto research a problem is often better retained. Second, if you overload senior\nengineers with questions, they will eventually get frustrated that you aren’t\ntaking the time yourself to research the issue. Senior engineers want to see\njunior engineers grow, and learning how to research and discover solutions is\none of the foremost ways you can do this.</p>\n<p>To be clear, I’m not suggesting that you don’t ask <strong>any</strong> questions to senior\nengineers, rather I’m suggesting to spend more time learning and researching on\nyour own before you ask questions. There will always be those tough questions\nthat you just can’t figure out, and that’s a great time to get some help from a\nmore experienced engineer. Eventually, when you become the senior engineer,\npeople will be asking you questions and you may no longer have a more senior\nengineer to lean on, so practice these skills now!</p>\n<h2 id=\"teach-what-you-learn\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#teach-what-you-learn\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Teach What You Learn</h2>\n<p>As you learn and grow as a software engineer, one of the best ways to reinforce\nand deepen your knowledge is by teaching others what you have learned. This is\nnot anything new that other people haven’t already figured out, but it certainly\nis true. When I am preparing to teach a concept, even if it is a simple Slack\nmessage to my teammates, it introduces an opportunity for me to ensure my\nknowledge of the subject is complete and accurate. The last thing I want to do\nis make and spread false claims or information, so as a result teaching becomes\nan opportunity to ensure my knowledge is accurate, which often brings with it\nnew information I may not have known before.</p>\n<p>Keep in mind, teaching doesn’t need to be a lecture in front of your whole\nengineering department at work. In fact, it doesn’t even have to be a speech, it\ncan be a simple Slack message with a new tip you learned or a mention of a more\nefficient process on a Zoom call. These methods of teaching require far less\npreparation while still resulting in deepening your knowledge and helping your\ncoworkers to also improve their skills.</p>\n<h2 id=\"relentlessly-improve-efficiency\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#relentlessly-improve-efficiency\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Relentlessly Improve Efficiency</h2>\n<p>As you advance to higher levels of software engineering, you will solve more\ncomplex problems that require more time and mental energy. As you do, you will\nbe limited by two factors: how quickly you can develop solutions to these\nproblems and how quickly you can implement these solutions. Improving the\nefficiency of developing solutions generally comes with time and experience\nmaking it more difficult to artificially speed up, but the opposite is true of\nimproving the efficiency of implementing solutions.</p>\n<p>While certainly not the only factor in efficiency, how you type and your typing\nspeed are important factors to efficiency. While software engineers do not\nsimply type for 8 hours straight every day, we do type a lot, so improving your\ntyping skills will have a positive impact on your overall efficiency. Not only\nthat, but if you improve not only your typing speed but also your typing method\nyou will find yourself wasting less mental energy thinking about typing, and\ninstead you can use that energy to think about the problem you are trying to\nsolve.</p>\n<p>There are so many other ways to improve efficiency, but rather than making this\nsection huge, here are some of my top tips.</p>\n<ul>\n<li>Learn keyboard shortcuts to reduce time wasted moving between your mouse and\nkeyboard.</li>\n<li>Prefer CLIs over GUIs. While GUIs are nicer to look at and use, CLIs are often\nmore efficient. For example, with some configuration, I can manage my Git\nrepositories far quicker via the command line than I can via VS Code’s\nbuilt-in Git client.</li>\n<li>Automate as much as you can. Setup a GitHub action to automatically update\ndependencies every other week, create lint rules to enforce coding standards,\nor create recurring reminders of common tasks. Anything you can do to reduce\nwhat you have to remember and do will improve your efficiency.</li>\n<li>For macOS users, replace Spotlight with <a href=\"https://www.raycast.com\">Raycast</a> or\n<a href=\"https://www.alfredapp.com\">Alfred</a> which both provide more functionality and\noffer means of customizing with extensions or workflows to automate common\ntasks.</li>\n</ul>\n<h2 id=\"chase-your-passion\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#chase-your-passion\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Chase Your Passion</h2>\n<p>The world of software engineering is vast and varied. You can dive into\nlow-level programming with Rust and C, data science with Python and R, web\napplication development with JavaScript and TypeScript, and so many more areas.\nDue to the wide breadth of the space, it is not feasible to truly excel in every\narea and so it is important to specialize in a subset of the overall field based\non what you are passionate about. For me, that is web JavaScript engineering and\ndeveloper experience, but what is it for you?</p>\n<p>As you grow, explore different areas to find where your passion lies so you can\nhone your skills and find more enjoyment in what you do every day. Don’t just\npick the most loved language on the StackOverflow annual survey or the language\nthat pays the most, find what you love doing, and do that. If possible, use time\noutside of work to build side projects either to explore new technologies or\ndeepen your knowledge of existing technologies you use.</p>\n<h2 id=\"stay-humble\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#stay-humble\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Stay Humble</h2>\n<p>The more experience you get as a software engineer, the easier it will become to\nbe prideful of your knowledge, position, experience, salary, you name it. Fight\nthis and stay humble. Pride will not only cause you to lose respect from your\ncoworkers, which is vitally important as a senior engineer and a leader, but it\nwill also stunt your continued growth and learning. If you think you have it all\nfigured out and know everything you need to know, you will stop learning and\nstagnate at your current level of knowledge. However, if you remain humble, and\nremember that not only do you have much to learn but also that every one of your\ncoworkers, regardless of seniority, can teach you something, you will unlock the\ndoor to continued growth and learning.</p>\n<h2 id=\"embrace-your-teams-norms\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#embrace-your-teams-norms\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Embrace Your Team’s Norms</h2>\n<p>Since starting at Widen 3 years ago, I have moved around to different teams\nquite a bit. During some of the earlier transitions, I had a tendency to come to\nthe team making all sorts of suggestions based on “what I did on my other team”\nor “what I did at my last job”. While suggestions like this are not necessarily\nbad, they make it significantly more difficult to build respect with your team\nas they see your suggestions as a challenge to how they work, what they have\nbuilt, etc. This can cause others on the team to quickly become defensive rather\nthan being open to your ideas.</p>\n<p>What I’ve found to be much more effective is to embrace the norms of a team when\njoining them. This allows you to more easily see why they do what they do\nincluding the benefits of their process and approaches. As you embrace your\nteam’s norms, you will gain their respect far quicker which in turn will give\nyou the ability to suggest improvements that will likely be taken much better by\nyour team. Not only that, but often you will find that some of the things that\nwere so important when you first joined might not be as important as you think\nafter spending a little time on your new team.</p>\n<h2 id=\"challenge-the-status-quo\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#challenge-the-status-quo\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Challenge the Status Quo</h2>\n<p>The final lesson I’ll share in this article is to challenge the status quo.\nBeing a highly effective software engineer involves challenging processes and\ndecisions rather than blindly following the direction set by others. While this\nmay sound contrary to my last point and very rebellious, when done properly, it\ncan have a great positive impact. The key is knowing what to challenge. For\nexample, at my work, UX decisions are something I often challenge. Asking why a\ndesign was created the way it was, suggesting simpler alternatives, or\nexplaining technical reasons why a design should be reviewed. Be careful though,\nas your goal should not be to challenge for the sake of challenge, rather your\ngoal should be to make the best possible software for your customers. If you are\ncareful in how you challenge the status quo, you will likely find that others on\nyour team appreciate your challenges and feedback.</p>\n<p>Thanks for reading! I hope you have found this article helpful and if you have\nany comments, feel free to share them with me on Twitter or GitHub!</p>",
      "url": "https://mskelton.dev/blog/my-journey-to-become-a-staff-software-engineer",
      "title": "My Journey to Become a Staff Software Engineer",
      "summary": "A common question I hear from junior-level software engineers is what it takes to advance in their career as software engineers. In this article, I discuss my journey to becoming a staff software engineer and what I learned along the way.",
      "date_modified": "2022-02-01T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/using-yarn-constraints",
      "content_html": "<p>Yarn 2 (aka berry) introduced a new feature referred to as “constraints” which\nallow developers to enforce rules for dependencies or manifest fields for some\nor all workspaces in a project. While constraints are still experimental and\ncommunity examples of using them are a bit sparse, they are a very powerful tool\nto help you more easily manage your project.</p>\n<h2 id=\"what-are-yarn-constraints\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#what-are-yarn-constraints\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>What Are Yarn Constraints?</h2>\n<p>As previously mentioned,\n<a href=\"https://yarnpkg.com/features/constraints\">Yarn constraints</a> allow you to\nenforce rules for your dependencies or manifest fields in your project. While\nthey could be used for a project with a single workspace, their value comes in\nwhen used on projects with multiple workspaces such as a component library.\nConstraints are written in Prolog which, although it has a learning curve,\nallows writing powerful rules in just a few short lines.</p>\n<h2 id=\"lets-see-an-example\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#lets-see-an-example\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Let’s See An Example</h2>\n<p>Alright, let’s get down to business and look at an example of a constraint. For\nthe rest of this article, let’s assume that we are working on an open-source\ncomponent library containing 10 packages. This would thus have 11 total\n“workspaces” as each package is a workspace plus the root workspace which\ncontains the <code>workspaces</code> key in the package.json file.</p>\n<p>Since our example project is open source, we want to make sure all of our\npackages have a <code>license</code> field in their manifest files (package.json). This\nwould look something like this.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#7AA2F7\">gen_enforced_field</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;license&#x27;, &#x27;ISC&#x27;</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#BB9AF7\">.</span></span>\n<span class=\"line\"></span></code></pre>\n<p><em>All the examples in this article can be viewed on the\n<a href=\"https://github.com/mskelton/yarn-constraints-example\">accompanying GitHub repo</a>\nI created for this article.</em></p>\n<p>This will instruct Yarn that we want to enforce a constraint on all of our\nworkspaces (including the root) where each workspace should contain a <code>license</code>\nfield with the value of <code>ISC</code>. We can check to see if our constraints are met by\nrunning the <code>yarn constraints</code> command.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#a9b1d6\">$ yarn constraints</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\">➤ YN0037: package-a must have a field license set to &quot;ISC&quot;, but doesn&#x27;t</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\">➤ YN0038: package-b must have a field license set to &quot;ISC&quot;, but is set to &quot;MIT&quot; instead</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\">➤ YN0000: Failed with errors in 0s 29ms</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\"></span></span></code></pre>\n<p>As you can see from the output, Yarn warned us that package-a does not have a\n<code>license</code> field in it’s manifest and package-b has an incorrect value for the\n<code>license</code> field. To fix these issues, we can add the <code>--fix</code> argument to the\ncommand which will instruct Yarn to fix the issues for us if possible.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#a9b1d6\">$ yarn constraints --fix</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\">➤ YN0000: Done in 0s 43ms</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\"></span></span></code></pre>\n<p>The errors are now gone, and if we look at the changed files in Git, we will see\nthat the manifest file for package-a and package-b have been updated.</p>\n<p>Now that we’ve seen what Yarn constraints look like and how to check/fix them,\nlet’s look at a number of real world use cases where you might want to use\nconstraints to enforce rules for your workspaces.</p>\n<h2 id=\"use-case-enforce-homepage-url\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#use-case-enforce-homepage-url\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Use Case: Enforce Homepage URL</h2>\n<p>Continuing with our hypothetical component library, we probably want to include\na <code>homepage</code> field in the manifest of each workspace so that users can use the\n<code>npm docs</code> command to open the readme for each of our packages. This constraint\nisn’t quite as simple as the last since the homepage of each workspace will be\ndifferent.</p>\n<p>When writing more complex constraints like this, I like to start with a basic\nconstraint and then add the complexity bit by bit. So, I’ll start with something\nsimilar to our license constraint.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#7AA2F7\">gen_enforced_field</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;homepage&#x27;, &#x27;something&#x27;</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#BB9AF7\">.</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Okay, good start. Now I have a constraint that will add a <code>homepage</code> field to\neach workspace. There are two problems that I’ll need to address:</p>\n<ol>\n<li>This constraint will also be enforced for the root workspace which we don’t\nwant.</li>\n<li>The homepage URL isn’t correct.</li>\n</ol>\n<p>Let’s start with the first issue. We need to instruct Yarn not to enforce the\nconstraint for the root workspace. There are a number of ways you could do this,\nbut the approach I like to take looks something like this.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#7AA2F7\">gen_enforced_field</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;homepage&#x27;, &#x27;something&#x27;</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">:-</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  workspace_field(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;version&#x27;, </span><span style=\"color:#F7768E\">_</span><span style=\"color:#A9B1D6\">)</span><span style=\"color:#BB9AF7\">.</span></span>\n<span class=\"line\"></span></code></pre>\n<h3 id=\"aside-about-syntax\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#aside-about-syntax\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Aside about syntax</h3>\n<p>Before I explain the code block above, I should pause for a moment to explain\nsome of the syntax in the previous code block and the mental model you should\nuse when reading and writing Yarn constraints.</p>\n<p>In Prolog, we use “rules” to create conditional statements that will either be\ntrue or false. Rules contain a “head” section, and a “body” section where the\nhead will be true if the body is true. For example, the following rule would be\nread as “X is a mortal if X is human” with <code>mortal(X)</code> as the “head” and\n<code>human(X)</code> as the “body”.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#7AA2F7\">mortal</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">X</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">:-</span><span style=\"color:#A9B1D6\"> human(</span><span style=\"color:#E0AF68\">X</span><span style=\"color:#A9B1D6\">)</span><span style=\"color:#BB9AF7\">.</span></span>\n<span class=\"line\"></span></code></pre>\n<p>When writing Yarn constraints, we create rules which when true instruct Yarn to\nenforce the constraint for the given workspace. This does not necessarily mean\nthat the constraint is met, simply that Yarn should enforce it when we run yarn\nconstraints. This point is important to remember.</p>\n<blockquote>\n<p>The rules we create don’t indicate whether constraint has been met, rather it\nindicates that the constraint should be enforced.</p>\n</blockquote>\n<p>The last thing to note about Prolog syntax is that rules without a body are\nalways true. Prolog calls these rules “facts” and our previous example of\nenforcing the license field is an example of a fact. Facts are just syntactic\nsugar meaning that the following two lines give the same result.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#7AA2F7\">gen_enforced_field</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;license&#x27;, &#x27;ISC&#x27;</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">:-</span><span style=\"color:#A9B1D6\"> true</span><span style=\"color:#BB9AF7\">.</span></span>\n<span class=\"line\"><span style=\"color:#7AA2F7\">gen_enforced_field</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;license&#x27;, &#x27;ISC&#x27;</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#BB9AF7\">.</span></span>\n<span class=\"line\"></span></code></pre>\n<h3 id=\"enough-syntax-back-to-work\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#enough-syntax-back-to-work\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Enough syntax, back to work</h3>\n<p>Okay, back to our homepage constraint example. We left off with the following\nblock of code, but I didn’t explain why I added the <code>workspace_field</code> portion to\nthe body of the rule.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#7AA2F7\">gen_enforced_field</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;homepage&#x27;, &#x27;something&#x27;</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">:-</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  workspace_field(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;version&#x27;, </span><span style=\"color:#F7768E\">_</span><span style=\"color:#A9B1D6\">)</span><span style=\"color:#BB9AF7\">.</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This change resolved the first of the two issues where the constraint was being\nenforced for the root workspace. By using the <code>workspace_field</code> rule provided by\nYarn, our rule will now return true for all workspaces whose manifest has a\n<code>version</code> property set to any value (underscores in Prolog indicate any value).\nSince our root workspace does not have a <code>version</code> property in its manifest, the\nconstraint will not be enforced.</p>\n<p>Next, we need to set the correct homepage URL and to do that, we can change our\nconstraint to the following.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#7AA2F7\">gen_enforced_field</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;homepage&#x27;, </span><span style=\"color:#E0AF68\">Homepage</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">:-</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  workspace_field(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;version&#x27;, </span><span style=\"color:#F7768E\">_</span><span style=\"color:#A9B1D6\">),</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#2AC3DE\">atom_concat</span><span style=\"color:#A9B1D6\">(&#x27;https://github.com/mskelton/yarn-constraints-example/tree/main/&#x27;, </span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, </span><span style=\"color:#E0AF68\">Homepage</span><span style=\"color:#A9B1D6\">)</span><span style=\"color:#BB9AF7\">.</span></span>\n<span class=\"line\"></span></code></pre>\n<p>To get the correct homepage URL for each workspace, we use Prolog’s built-in\n<code>atom_concat</code> predicate to concatenate the GitHub URL and the workspace\ndirectory into a variable called <code>Homepage</code>. We then can use this variable as\nthe third argument to <code>gen_enforced_field</code> so Yarn will enforce the correct\nhomepage URL in each workspace. If we check our constraints, we will likely see\nsomething like this.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#a9b1d6\">$ yarn constraints</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\">➤ YN0037: package-a must have a field homepage set to &quot;https://github.com/mskelton/yarn-constraints-example/tree/main/packages/package-a&quot;, but doesn&#x27;t</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\">➤ YN0037: package-b must have a field homepage set to &quot;https://github.com/mskelton/yarn-constraints-example/tree/main/packages/package-b&quot;, but doesn&#x27;t</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\">➤ YN0000: Failed with errors in 0s 22ms</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\"></span></span></code></pre>\n<p><em>This constraint is also auto-fixable when you run <code>yarn constraints --fix</code>.</em></p>\n<h2 id=\"use-case-ensuring-a-dependency-is-a-peer-dependency\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#use-case-ensuring-a-dependency-is-a-peer-dependency\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Use Case: Ensuring a Dependency Is a Peer Dependency</h2>\n<p>So, we’ve been using the example of a component library to demonstrate\nconstraints, so let’s extend the example to say that we are building a React\ncomponent library. When building React component packages, the <code>react</code>\ndependency should be a peer dependency, not a regular dependency. This is a\nperfect opportunity to add a constraint to enforce this rule in all of our\npackages. This constraint would look like this.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#7AA2F7\">gen_enforced_dependency</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;react&#x27;, null, dependencies</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#BB9AF7\">:-</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  workspace_field(</span><span style=\"color:#E0AF68\">WorkspaceCwd</span><span style=\"color:#A9B1D6\">, &#x27;version&#x27;, </span><span style=\"color:#F7768E\">_</span><span style=\"color:#A9B1D6\">)</span><span style=\"color:#BB9AF7\">.</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you can see, instead of creating a <code>gen_enforced_field</code> rule, we are creating\na <code>gen_enforced_dependency</code> rule. Similar to our previous rules, we only want to\nrun this for published packages, so we ignore the root workspace using our\nversion check trick. For the workspaces where we enforce this constraint, Yarn\nwill ensure the <code>react</code> is not present in the <code>dependencies</code> block of the\nmanifest. If it is, we will get the following error.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#a9b1d6\">$ yarn constraints</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\">➤ YN0025: package-a has an extraneous dependency on react (in dependencies)</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\">➤ YN0000: Failed with errors in 0s 20ms</span></span>\n<span class=\"line\"><span style=\"color:#a9b1d6\"></span></span></code></pre>\n<p>As we can see in the message, our newly created constraint prevents us from\nusing <code>react</code> as a regular dependency.</p>\n<h2 id=\"wrapping-it-up\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#wrapping-it-up\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Wrapping It Up</h2>\n<p>That was a lot for a single article! I hope this article has helped you to\nunderstand what constraints are, when you might want to use them, and how to\nbuild them. There is definitely a learning curve to constraints, but my best\nadvice is to just try it out for a while and see what you come up with! Whether\nyou pull inspiration from the constraints I wrote here or come up with your own\nideas of what constraints to create, I encourage you to give constraints a try\non one of your projects.</p>\n<p><em>Goodbye and God bless!</em></p>",
      "url": "https://mskelton.dev/blog/using-yarn-constraints",
      "title": "Using Yarn Constraints",
      "summary": "Yarn 2 introduced a new feature referred to as \"constraints\" to help you manage packages in your monorepo. In this article, I explain how constraints work and show you how you can use them to enforce consistency in your monorepo.",
      "date_modified": "2020-12-06T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/automating-npm-package-releases",
      "content_html": "<p>semantic-release is a tool which fully automates the process of releasing your\ncode to the world. It determines the next version based on the commit messages\n(e.g. <code>fix</code>, <code>feat</code>) giving you full control over the next version but still\nautomating the release process. This short article shows how to setup\nsemantic-release for an npm package using GitHub Actions.</p>\n<p>First, create a GitHub Action which calls <code>npx semantic-release</code> (or\n<code>yarn semantic-release</code> if you use Yarn). This should be run after any other\npre-release steps such as <code>npm run build</code> and <code>npm test</code>.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#F7768E\">name</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">Release</span></span>\n<span class=\"line\"><span style=\"color:#FF9E64\">on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#9ECE6A\">push</span><span style=\"color:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color:#F7768E\">jobs</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">release</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">runs-on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">ubuntu-latest</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">steps</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/checkout@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">npm ci</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">npx semantic-release</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">env</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">GITHUB_TOKEN</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ secrets.GITHUB_TOKEN }}</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">NPM_TOKEN</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ secrets.NPM_TOKEN }}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Next, update your package changelog to indicate that change notes can be viewed\non the releases tab.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#89DDFF;font-style:italic\">#</span><span style=\"color:#9AA5CE\"> </span><span style=\"color:#89DDFF;font-style:italic\">Changelog</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9AA5CE\">The changelog is automatically updated using</span></span>\n<span class=\"line\"><span style=\"color:#89DDFF\">[</span><span style=\"color:#73DACA\">semantic-release</span><span style=\"color:#89DDFF\">](</span><span style=\"color:#73DACA;font-style:italic\">https://github.com/semantic-release/semantic-release</span><span style=\"color:#89DDFF\">)</span><span style=\"color:#9AA5CE\">. You</span></span>\n<span class=\"line\"><span style=\"color:#9AA5CE\">can see it on the </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#73DACA\">releases page</span><span style=\"color:#89DDFF\">](</span><span style=\"color:#73DACA;font-style:italic\">../../releases</span><span style=\"color:#89DDFF\">)</span><span style=\"color:#9AA5CE\">.</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Finally, update the version in your package.json to something that indicates\nyour package is versioned using semantic release.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">version</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#A9B1D6\">: </span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">0.0.0-semantically-released</span><span style=\"color:#89DDFF\">&quot;</span></span>\n<span class=\"line\"></span></code></pre>\n<p>That’s it! Your package is now being automatically released via\nsemantic-release!</p>\n<p><em>For more details, checkout the\n<a href=\"https://github.com/semantic-release/semantic-release/blob/master/docs/recipes/github-actions.md#using-semantic-release-with-github-actions\">semantic-release docs</a>.</em></p>",
      "url": "https://mskelton.dev/blog/automating-npm-package-releases",
      "title": "Automating npm Package Releases",
      "summary": "Releasing npm packages can be a challenge. There are often many steps in the process and forgetting a step can result in a package being released incorrectly. In this article, I will show how to implement semantic-release in your project to fully automate your npm package releases.",
      "date_modified": "2020-05-25T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/auto-formatting-code-using-prettier-and-github-actions",
      "content_html": "<p>Prettier is a very popular code formatter which uses very opinionated but\nsensible styles to format your code and prevent the ongoing debates about code\nstyles. When implementing Prettier into a project, the typical approach is to\nsetup a pre-commit hook using a tool such as\n<a href=\"https://github.com/okonet/lint-staged\">lint-staged</a> which will run Prettier on\nyour staged files prior to committing. While this works well in most cases,\nthere are a number of challenges with this approach.</p>\n<ol>\n<li>Non-staged files are not formatted. When changes are made to Prettier\nconfiguration or Prettier is updated, untouched files will not be formatted\nunless you manually run Prettier.</li>\n<li>Pre-commit steps can be skipped. Running <code>git commit --no-verify</code> will commit\ncode without running pre-commit hooks which can result in files not being\nformatted.</li>\n<li>Pre-commit steps are slow. Running tasks like Prettier during pre-commit adds\nadditional time when committing files due to Prettier having to format each\nfile that is staged.</li>\n</ol>\n<h2 id=\"finding-a-better-way\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#finding-a-better-way\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Finding a Better Way</h2>\n<p>Recently, a few of my coworkers implemented a tool called\n<a href=\"https://github.com/diffplug/spotless\">Spotless</a> into a number of projects to\nautomatically format Java code in our CI pipeline. I was quite intrigued by the\nconcept of automatically formatting code in CI that I pondered if a similar\nprocess could be done using Prettier and GitHub Actions for JavaScript projects.\n<em>Spoiler alert, it works!</em></p>\n<p>After a few Google searches, I came across\n<a href=\"https://github.com/creyD/prettier_action\">GitHub Prettier Action</a> which formats\nyour code using Prettier and commits any changes files when finished. While this\nlooked like it would be the solution, it doesn’t use the version of Prettier\nspecified in your dependencies meaning that local formatting changes applied by\nyour editor or by running Prettier manually could get changed by the CI build if\nthe versions differed. While this could be resolved by always keeping the\nversion of Prettier in your npm dependencies and the GitHub action in sync, this\nadds extra work that needs to be done when updating dependencies.</p>\n<p>So, while the Prettier Action is not the best solution, there is another\nsolution that is just as easy to implement! This solution utilizes the\n<a href=\"https://github.com/stefanzweifel/git-auto-commit-action\">git-auto-commit-action</a>\nalongside whatever formatting script you have in your repository. For example,\nmy repository has the following script to format using Prettier.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">format</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#A9B1D6\">: </span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">prettier --write .</span><span style=\"color:#89DDFF\">&quot;</span></span>\n<span class=\"line\"></span></code></pre>\n<p>To setup the GitHub action, all we need to do is install our dependencies (e.g.\n<code>npm ci</code>), run our format script (e.g. <code>npm run format</code>), and then commit any\nchanges if necessary.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#F7768E\">name</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">Format</span></span>\n<span class=\"line\"><span style=\"color:#FF9E64\">on</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">pull_request</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">branches</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#9ECE6A\">main</span><span style=\"color:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color:#F7768E\">jobs</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">format</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">runs-on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">ubuntu-latest</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">steps</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/checkout@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">with</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">ref</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ github.head_ref }}</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/setup-node@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">with</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">node-version</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">16.x</span><span style=\"color:#89DDFF\">&quot;</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">npm ci</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">npm run format</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">name</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">Commit changes</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">stefanzweifel/git-auto-commit-action@v4</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">with</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">commit_message</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">Apply formatting changes</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">branch</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ github.head_ref }}</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"conclusion\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#conclusion\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Conclusion</h2>\n<p>By utilizing GitHub Actions for automatically formatting with Prettier, we were\nable to eliminate all three issues described at the beginning of this article.\nWhile the example I showed only performed formatting with Prettier, you could\nalso run ESLint, stylelint, or any other formatting tool you use as part of the\nGitHub action!</p>\n<p>If you are interested in the source code for this article, check out the\n<a href=\"https://github.com/mskelton/prettier-formatting-example\">example repository</a> I\nput together. God bless and happy coding!</p>",
      "url": "https://mskelton.dev/blog/auto-formatting-code-using-prettier-and-github-actions",
      "title": "Auto Formatting Code Using Prettier and GitHub Actions",
      "summary": "Enforcing consistent code formatting in your repositories with Prettier is great, but it can easily result in a less than ideal developer experience. In this article, I discuss how to leverage GitHub Actions to automate code formatting without requiring any additional steps from developers.",
      "date_modified": "2020-04-11T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/conquering-derived-state",
      "content_html": "<p>A couple weeks ago, my fellow front-end developers at\n<a href=\"https://www.widen.com\">Widen</a> had a conversation regarding one of our shared\nReact components which we were struggling to implement in one of our\napplications. While most React components are fully controlled (via props) or\nfully uncontrolled (internal state), this component used what is known as\n“derived state” which is internal state that is controlled to some degree by\nprops. Although derived state might seem like a good solution, it often causes\nmany more problems than it attempts to solve.</p>\n<p>My goal in this article is not to convince you that derived state should be\navoided. React has an excellent\n<a href=\"https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\">article on derived state</a>\nwhich does a great job of explaining why derived state is an anti-pattern. The\nfocus of this article will be about how to recognize derived state in your\ncomponents and several alternatives to derived state.</p>\n<h2 id=\"recognizing-derived-state\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#recognizing-derived-state\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Recognizing Derived State</h2>\n<p>Before I go any further, let me provide a few examples of derived state to help\nyou start recognizing derived state patterns. I’ll begin with class based\ncomponents as they are easier to recognize than function based components.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">class</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7DCFFF\">PartiallyControlledInput</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9D7CD8;font-style:italic\">extends</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7DCFFF\">React</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#BB9AF7\">Component</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#C0CAF5\">state</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">=</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#73DACA\">value</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">this</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#7AA2F7\">componentWillReceiveProps</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">nextProps</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#BB9AF7\">if</span><span style=\"color:#9ABDF5\"> (</span><span style=\"color:#C0CAF5\">nextProps</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">!==</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#F7768E\">this</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#9ABDF5\">) {</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">      </span><span style=\"color:#F7768E\">this</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7AA2F7\">setState</span><span style=\"color:#9ABDF5\">({ </span><span style=\"color:#73DACA\">value</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#C0CAF5\">nextProps</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#9ABDF5\"> })</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    }</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#7AA2F7\">render</span><span style=\"color:#9ABDF5\">()</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> (</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">      </span><span style=\"color:#BA3C97\">&lt;</span><span style=\"color:#F7768E\">input</span></span>\n<span class=\"line\"><span style=\"color:#DE5971\">        </span><span style=\"color:#BB9AF7\">onChange</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">e</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">=&gt;</span><span style=\"color:#DE5971\"> </span><span style=\"color:#F7768E\">this</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7AA2F7\">setState</span><span style=\"color:#9ABDF5\">({</span><span style=\"color:#DE5971\"> </span><span style=\"color:#73DACA\">value</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#DE5971\"> </span><span style=\"color:#C0CAF5\">e</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">target</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#DE5971\"> </span><span style=\"color:#9ABDF5\">})</span><span style=\"color:#7DCFFF\">}</span></span>\n<span class=\"line\"><span style=\"color:#DE5971\">        </span><span style=\"color:#BB9AF7\">value</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#F7768E\">this</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">state</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value}</span></span>\n<span class=\"line\"><span style=\"color:#DE5971\">      </span><span style=\"color:#BA3C97\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    )</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  }</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>In this example, we have a component which is a partially controlled input\nfield. The component manages its state internally but it also allows the parent\ncomponent to update the state by changing the <code>value</code> prop. The key part of this\nexample is <code>componentWillReceiveProps</code> which is the red flag indicating the\ncomponent derives its state from props.</p>\n<p>Because <code>componentWillReceiveProps</code> is being deprecated, React has a newer\nlifecycle method named <code>getDerivedStateFromProps</code>. This method almost needs no\nexample as its name speaks for itself, but a quick example won’t hurt.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">class</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7DCFFF\">PartiallyControlledInput</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9D7CD8;font-style:italic\">extends</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7DCFFF\">React</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#BB9AF7\">Component</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#C0CAF5\">state</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">=</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#73DACA\">value</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">this</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#73DACA\">prevFormId</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">this</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">formId</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#9D7CD8;font-style:italic\">static</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7AA2F7\">getDerivedStateFromProps</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">props</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#E0AF68\">state</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#BB9AF7\">if</span><span style=\"color:#9ABDF5\"> (</span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">formId</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">!==</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#C0CAF5\">state</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">prevFormId</span><span style=\"color:#9ABDF5\">) {</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">      </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> {</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">        </span><span style=\"color:#73DACA\">prevFormId</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">formId</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">        </span><span style=\"color:#73DACA\">value</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">      }</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#FF9E64\">null</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#7AA2F7\">render</span><span style=\"color:#9ABDF5\">()</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> (</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">      </span><span style=\"color:#BA3C97\">&lt;</span><span style=\"color:#F7768E\">input</span></span>\n<span class=\"line\"><span style=\"color:#DE5971\">        </span><span style=\"color:#BB9AF7\">onChange</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">e</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">=&gt;</span><span style=\"color:#DE5971\"> </span><span style=\"color:#F7768E\">this</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7AA2F7\">setState</span><span style=\"color:#9ABDF5\">({</span><span style=\"color:#DE5971\"> </span><span style=\"color:#73DACA\">value</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#DE5971\"> </span><span style=\"color:#C0CAF5\">e</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">target</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#DE5971\"> </span><span style=\"color:#9ABDF5\">})</span><span style=\"color:#7DCFFF\">}</span></span>\n<span class=\"line\"><span style=\"color:#DE5971\">        </span><span style=\"color:#BB9AF7\">value</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#F7768E\">this</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">state</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value}</span></span>\n<span class=\"line\"><span style=\"color:#DE5971\">      </span><span style=\"color:#BA3C97\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    )</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  }</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you can see, <code>getDerivedStateFromProps</code> gets even more complex as we are\nrequired to store a prop value in state so when that prop changes we can reset\nstate based on props.</p>\n<p>As we move on to function based components, derived state is a bit tougher to\nspot as you have to look for more than just <code>componentWillReceiveProps</code> or\n<code>getDerivedStateFromProps</code>.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">function</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7AA2F7\">PartiallyControlledInput</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">props</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#9D7CD8;font-style:italic\">const</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#BB9AF7\">value</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">setValue</span><span style=\"color:#89DDFF\">]</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">=</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#7AA2F7\">useState</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#9ABDF5\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#7AA2F7\">useEffect</span><span style=\"color:#9ABDF5\">(() </span><span style=\"color:#BB9AF7\">=&gt;</span><span style=\"color:#9ABDF5\"> {</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#7AA2F7\">setValue</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#9ABDF5\">)</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  }</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> [</span><span style=\"color:#C0CAF5\">props</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#9ABDF5\">])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BA3C97\">&lt;</span><span style=\"color:#F7768E\">input</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">onChange</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">e</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">=&gt;</span><span style=\"color:#DE5971\"> </span><span style=\"color:#7AA2F7\">setValue</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#C0CAF5\">e</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">target</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">value</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#C0CAF5\">value</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BA3C97\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you can see, the previous example is a more subtle use of derived state. When\n<code>props.value</code> changes, an effect will run which will set the value of the input\nwith the new prop value. This is essentially the same as the first example we\nshowed above and suffers from the exact same problems. Just because it is\nwritten with hooks doesn’t mean it is magically better than its class based\nequivalent!</p>\n<h2 id=\"alternatives-to-derived-state\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#alternatives-to-derived-state\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Alternatives to Derived State</h2>\n<p>Now that we’ve seen a few examples of derived state, let’s look at some\nalternative solutions.</p>\n<h3 id=\"fully-uncontrolled-component-with-a-key\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#fully-uncontrolled-component-with-a-key\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Fully uncontrolled component with a key</h3>\n<p>The first option would be to make the component fully uncontrolled and use\nReact’s special <code>key</code> prop which will create a new instance of the component\nrather than updating the existing one. This includes re-initializing component\nstate with the initial values provided.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">function</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7AA2F7\">FullyUncontrolledInput</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#89DDFF\">{</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#E0AF68\">initialValue</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">}</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#9D7CD8;font-style:italic\">const</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#BB9AF7\">value</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">setValue</span><span style=\"color:#89DDFF\">]</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">=</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#7AA2F7\">useState</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#C0CAF5\">initialValue</span><span style=\"color:#9ABDF5\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BA3C97\">&lt;</span><span style=\"color:#F7768E\">input</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">onChange</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">e</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">=&gt;</span><span style=\"color:#DE5971\"> </span><span style=\"color:#7AA2F7\">setValue</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#C0CAF5\">e</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">target</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">value</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#C0CAF5\">value</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BA3C97\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>To use the component, we simply need to provide an initialValue prop as well as\na <code>key</code> prop. To re-initialize the internal state of the input, we simply need\nto change the <code>key</code>. In the following code block, we use a variable named\n<code>formId</code> which we can change when the form needs to be reset.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">function</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7AA2F7\">Form</span><span style=\"color:#9ABDF5\">()</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BA3C97\">&lt;</span><span style=\"color:#DE5971\">FullyUncontrolledInput </span><span style=\"color:#BB9AF7\">key</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#C0CAF5\">formId</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">initialValue</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">Initial</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BA3C97\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Fully controlled component The next option is to make the input fully controlled\nand let the parent component manage its state. This option will require us to\nadd an <code>onChange</code> prop to the input component so the parent can listen to\nchanges and update state accordingly.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">function</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7AA2F7\">FullyControlledInput</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#89DDFF\">{</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#E0AF68\">value</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#E0AF68\">onChange</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">}</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BA3C97\">&lt;</span><span style=\"color:#F7768E\">input</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">onChange</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">e</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">=&gt;</span><span style=\"color:#DE5971\"> </span><span style=\"color:#7AA2F7\">onChange</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#C0CAF5\">e</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#C0CAF5\">target</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">value</span><span style=\"color:#9ABDF5\">)</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">value</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#C0CAF5\">value</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BA3C97\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>With our fully controlled input component, we now can add a simple <code>useState</code>\nhook to our form component which will manage the state of our input.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">function</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7AA2F7\">Form</span><span style=\"color:#9ABDF5\">()</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#9D7CD8;font-style:italic\">const</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#BB9AF7\">value</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">setValue</span><span style=\"color:#89DDFF\">]</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">=</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#7AA2F7\">useState</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">Initial</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ABDF5\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BA3C97\">&lt;</span><span style=\"color:#DE5971\">FullyControlledInput </span><span style=\"color:#BB9AF7\">onChange</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#C0CAF5\">setValue</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">value</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#C0CAF5\">value</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BA3C97\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<h3 id=\"custom-hooks\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#custom-hooks\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Custom hooks!</h3>\n<p>While the previous examples sound like easy solutions, many real-world\ncomponents are much more complex than those simple examples. In these\nsituations, creating a custom hook might just be what you need to achieve a high\nlevel of customization without large boilerplate.</p>\n<p>For example, consider a date picker component which accepts props for the\ncurrently selected day and month as well as event handlers when the user changes\nthe day or month. Rather than making our form component manage all the state and\nevent handlers, we can wrap that logic in a custom <code>useDatePicker</code> hook!</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">function</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7AA2F7\">useDatePicker</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#E0AF68\">initialValues</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">=</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#73DACA\">day</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#FF9E64\">1</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#73DACA\">month</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">Jan</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">})</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#9D7CD8;font-style:italic\">const</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#BB9AF7\">month</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">setMonth</span><span style=\"color:#89DDFF\">]</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">=</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#7AA2F7\">useState</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#C0CAF5\">initialValues</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">month</span><span style=\"color:#9ABDF5\">)</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#9D7CD8;font-style:italic\">const</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#BB9AF7\">day</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">setDay</span><span style=\"color:#89DDFF\">]</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">=</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#7AA2F7\">useState</span><span style=\"color:#9ABDF5\">(</span><span style=\"color:#C0CAF5\">initialValues</span><span style=\"color:#89DDFF\">.</span><span style=\"color:#7DCFFF\">day</span><span style=\"color:#9ABDF5\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> {</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#73DACA\">datePickerProps</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#9ABDF5\"> {</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">      </span><span style=\"color:#C0CAF5\">day</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">      </span><span style=\"color:#C0CAF5\">month</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">      </span><span style=\"color:#73DACA\">onDayChange</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#C0CAF5\">setDay</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">      </span><span style=\"color:#73DACA\">onMonthChange</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#C0CAF5\">setMonth</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    }</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#C0CAF5\">day</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#C0CAF5\">month</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#C0CAF5\">setDay</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">    </span><span style=\"color:#C0CAF5\">setMonth</span><span style=\"color:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  }</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Now, we can very easily call the <code>useDatePicker</code> hook inside our form component\nand pass <code>datePickerProps</code> to the date picker component which will add all the\nnecessary props for managing the state of the component.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#BB9AF7\">function</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#7AA2F7\">Form</span><span style=\"color:#9ABDF5\">()</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#9D7CD8;font-style:italic\">const</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">{</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">datePickerProps</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">day</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BB9AF7\">month</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">}</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#89DDFF\">=</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#7AA2F7\">useDatePicker</span><span style=\"color:#9ABDF5\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#7AA2F7\">useEffect</span><span style=\"color:#9ABDF5\">(() </span><span style=\"color:#BB9AF7\">=&gt;</span><span style=\"color:#9ABDF5\"> {</span></span>\n<span class=\"line\"><span style=\"color:#89DDFF\">    </span><span style=\"color:#565F89;font-style:italic\">// Do something when day or month changes</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  }</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> [</span><span style=\"color:#7DCFFF\">day</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#7DCFFF\">month</span><span style=\"color:#9ABDF5\">])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#BB9AF7;font-style:italic\">return</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#BA3C97\">&lt;</span><span style=\"color:#DE5971\">DatePicker </span><span style=\"color:#7DCFFF\">{</span><span style=\"color:#F7768E;font-style:italic\">...</span><span style=\"color:#C0CAF5\">datePickerProps</span><span style=\"color:#7DCFFF\">}</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BB9AF7\">theme</span><span style=\"color:#89DDFF\">=</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#9ECE6A\">dark</span><span style=\"color:#89DDFF\">&quot;</span><span style=\"color:#DE5971\"> </span><span style=\"color:#BA3C97\">/&gt;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Because the hook isn’t directly tied to the component, we can achieve a high\nlevel of customization. For example, if we want to trigger some side effect when\nthe day changes, we can simply add a <code>useEffect</code> hook with a dependency on the\n<code>day</code> variable. Or, if we needed to customize the <code>onDayChange</code> logic, we could\noverride the prop returned in <code>datePickerProps</code> with a custom <code>onDayChange</code>\nprop. We could even create a reset button in the form component which when\nclicked uses the <code>setDay</code> and <code>setMonth</code> functions to reset the date picker to\nthe current day. The possibilities are endless, so use your imagination and come\nup with something great!</p>",
      "url": "https://mskelton.dev/blog/conquering-derived-state",
      "title": "Conquering Derived State",
      "summary": "Derived state in React is generally considered to be an anti-pattern that should be avoided. In this article, I show how to recognize derived state in your components and alternative ways to write your components to avoid using derived state.",
      "date_modified": "2020-04-03T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/the-dangers-of-shallow-rendering",
      "content_html": "<p>In my article titled ”<a href=\"/blog/a-tale-of-two-ideas\">A Tale of Two Ideas</a>” I\ndiscussed my method for discerning between opposing ideas and used the topic of\nshallow rendering as an example of a topic which has very distinct and differing\nopinions. Although I did not tell my opinion in the article as I didn’t want to\ntaint the purpose of the article, I did promise to publish an article with my\nopinions at a later point. And now, that time has come!</p>\n<h2 id=\"tldr\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#tldr\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>TLDR</h2>\n<p>Rather than making you scroll all the way to the end to see my list of reasons,\nthey are listed succinctly in the following list. If you don’t like what you\nsee, you won’t be forced to read any more. 🙂</p>\n<ol>\n<li>Shallow rendering creates additional failure points.</li>\n<li>Shallow rendering decreases confidence.</li>\n<li>Shallow rendering complicates refactoring.</li>\n</ol>\n<h2 id=\"shallow-rendering-creates-additional-failure-points\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#shallow-rendering-creates-additional-failure-points\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Shallow Rendering Creates Additional Failure Points</h2>\n<p>What is the purpose of shallow rendering in the first place? According to the\n<a href=\"https://enzymejs.github.io/enzyme/docs/api/shallow.html\">Enzyme docs</a>,</p>\n<blockquote>\n<p>Shallow rendering is useful to constrain yourself to testing a component as a\nunit, and to ensure that your tests aren’t indirectly asserting on behavior of\nchild components.</p>\n</blockquote>\n<p>To a developer with a component driven design mindset, this sounds great since\nyou can build your components and tests together and have confidence that your\ncomponents work as expected. However, the fundamental flaw with this idea is\nthat components which work in isolation might be integrated together incorrectly\nresulting in unexpected user behavior. To fix this, you are required to write\nadditional integration tests to verify that you have integrated your components\ncorrectly. This not only increases the number of tests you must maintain, but it\nalso overcomplicates what can be very simple testing.</p>\n<p>A simple way to reduce additional failure points when testing is to move your\ntests up the component tree and test larger pieces of your application. For\nexample, if you have a component with two child components and each of those\nthree components has a separate set of tests, reduce it to a single set of tests\nusing the highest level component. In addition to testing the components, this\nwill verify that your components are properly integrated removing that\nadditional point of failure.</p>\n<h2 id=\"shallow-rendering-decreases-confidence\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#shallow-rendering-decreases-confidence\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Shallow Rendering Decreases Confidence</h2>\n<p>When developing web applications, the end result is some form of user value.\nWhether that is a visual or functional improvement, every change that is made\nshould either directly provide user value or remove barriers to creating user\nvalue (e.g. refactoring to enable faster iteration). Tests fit in the second\ncategory as they provide confidence that new features or changes provide the\nexpected user value and do not cause regressions in existing user value.</p>\n<p>So, if the goal of testing is to increase confidence that your code provides the\nuser value it is supposed to, you should write tests that provide the highest\nlevel of confidence possible. This is where shallow rendering really breaks\ndown. Shallow rendering might give high confidence that a single component is\nworking correctly, but it gives little to no confidence that it results in the\ncorrect user behavior.</p>\n<p>It is also important to mention that increased confidence doesn’t necessarily\nresult in less time spent writing tests. Before you panic, that’s okay! The most\nlikely outcome of increased confidence is better testing coverage. Since you\nwon’t spend as much time fixing false positives/negatives, you will have more\ntime to test known edge cases and perform exploratory testing to find other edge\ncases.</p>\n<h2 id=\"shallow-rendering-complicates-refactoring\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#shallow-rendering-complicates-refactoring\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Shallow Rendering Complicates Refactoring</h2>\n<p>Refactoring is a necessary part of software development and often occurs many\ntimes during the lifetime of an application. When refactoring code, you should\nbe able to lean heavily on your test suite to verify that your changes did not\ncause regressions in your applications. However, shallow rendering complicates\nthis due to its tight coupling of components and tests. To understand this\nbetter, let me give an example.</p>\n<p>Consider a React component named <code>UserDetails</code> which displays user information\n(i.e. name, email, phone number) in a list. The phone number is passed to a\nseparate component named <code>FormattedPhone</code>. During initial development of the\ncomponent, I added a test that verifies the <code>UserDetails</code> component renders a\n<code>FormattedPhone</code> component with the correct props. Later, I decide to remove the\n<code>FormattedPhone</code> component and format the phone in the <code>UserDetails</code> component.\nSince I used shallow rendering, my test breaks since it was expecting to find a\n<code>FormattedPhone</code> component. Not only do the tests now require changes, but they\ndon’t give me confidence that the changes to the components maintained the\nexpected user behavior.</p>\n<h2 id=\"a-better-way\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#a-better-way\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>A Better Way</h2>\n<p>If you are convinced that shallow rendering is not a good testing practice, the\nnext big question is what to do instead? While there are many ways to answer\nthis question, my current thoughts are best described with the following\nrecommendations:</p>\n<ol>\n<li>Replace shallow rendering with full DOM rendering. If you use Enzyme, this\nmeans replacing <code>shallow</code> with <code>mount</code>.</li>\n<li>Think less about props/state and more about user behavior. Rather than\ndirectly interacting with your components props, instead try rendering\nadditional DOM elements which you can interact with which in turn affect your\ncomponent. This is more similar to a real application where user interaction\naffects your component.</li>\n<li>Never under any circumstance use APIs which allow you to directly affect\ncomponent state (e.g. Enzyme’s <code>setState</code> method). This does not accurately\nreflect user behavior. Directly modifying props is also not ideal, but it is\nless problematic than directly modifying state.</li>\n<li>Try out\n<a href=\"https://testing-library.com/docs/react-testing-library/intro\">React Testing Library</a>\nwhich does not support shallow rendering and has an API which prevents many\ncommon testing patterns which test implementation detail. Although not\nrequired to write good tests, I have found it very helpful in increasing the\nquality of my tests and the confidence they provide.</li>\n</ol>",
      "url": "https://mskelton.dev/blog/the-dangers-of-shallow-rendering",
      "title": "The Dangers of Shallow Rendering",
      "summary": "Shallow rendering is an approach to unit testing made popular by the Enzyme library. In this article, I discuss many of the problems that arise when using shallow rendering and why you should avoid it when writing unit tests for your React components.",
      "date_modified": "2020-03-21T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/why-i-dont-use-environment-variables",
      "content_html": "<p>Environment variables are very helpful for software development as they allow\nyou to easily change certain aspects of your application based on the\nenvironment in which your application is used. However, environment variables do\nhave some challenges which can cause some issues in certain scenarios. In this\narticle, I’ll explore some of those challenges and explain why I don’t use\nenvironment variables in my applications.</p>\n<h2 id=\"globally-available\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#globally-available\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Globally Available</h2>\n<p>The first challenge with environment variables is the fact that they are\nglobally available to all applications. The main problem this can cause is\nnaming conflicts between applications. For example, if two applications both\nhave an API token to some service (i.e. npm), you have to choose different names\nfor the environment variables as a generic name like <code>NPM_TOKEN</code> would cause a\nconflict between the two applications. This might seem like a contrived example\nbut it is actually one that I have faced at my job and it has caused some\nserious annoyances.</p>\n<h2 id=\"shell-specific\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#shell-specific\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Shell Specific</h2>\n<p>Another challenge with environment variables is that they are only available in\nthe shell which you have configured them for. Again, this might not seem like a\nbig deal, but if you have to switch between shells on occasion this can be a\nreal pain as the variables are not shared by both shells and must be maintained\nin each shell.</p>\n<h2 id=\"difficult-to-find\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#difficult-to-find\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Difficult To Find</h2>\n<p>Because environment variables are configured in a file such as <code>~/.bashrc</code> it is\nharder to determine the value of each environment variable quickly. Although an\nminor inconvenience, it still adds to the list of challenges with environment\nvariables.</p>\n<h2 id=\"my-solution\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#my-solution\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>My Solution</h2>\n<p>My solution to this is to use <code>.env</code> files to store environment variables on a\nper-application basis. These files are not shell specific and they work across\nplatforms. Additionally, <code>.env</code> files are stored alongside your application code\nmaking it very easy to view and change the environment variables for your\napplication.</p>\n<p>Loading <code>.env</code> files into your application can be done manually or using a\npackage such <a href=\"https://www.npmjs.com/package/dotenv\">Node’s dotenv package</a>.\nOther languages have similar packages such as\n<a href=\"https://pypi.org/project/python-dotenv/\">Python’s dotenv package</a>. Both of\nthese packages, and likely others, will intelligently load environment variables\nso as to not override existing system environment variables unless explicitly\nrequested. This behavior allows you to still specific environment variables on a\nper-command basis when running commands in your shell.</p>\n<h2 id=\"should-i-switch-to-env\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#should-i-switch-to-env\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Should I Switch To <code>.env</code>?</h2>\n<p>If you aren’t having any issues with environment variables, I wouldn’t recommend\nswitching to <code>.env</code> just because it sounds neat. If however you have encountered\nsome of the same challenges I mentioned in this article, you may want to\nexperiment with <code>.env</code> as a way to augment or replace your usage of environment\nvariables. Finally, remember that this article is merely my opinion on the\nsubject and is by no means a comprehensive article about all the aspects of this\nsubject. Regardless of if you decide to use any of the techniques I discussed in\nthis article, I hope that it helped you learn a bit more about this particular\narea of software development. Cheers!</p>",
      "url": "https://mskelton.dev/blog/why-i-dont-use-environment-variables",
      "title": "Why I Don't Use Environment Variables",
      "summary": "Environment variables are a great way to manage configuration in your applications, but they introduce a number of challenges. In this article, I explain an alternative approach to managing configuration in your applications using environment files rather than environment variables.",
      "date_modified": "2020-01-11T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/customizing-npm-styles",
      "content_html": "<p>Like most front-end developers, I use <a href=\"https://npmjs.com\">npmjs.com</a> to find new\npackages or read documentation for packages I use. I’ve also published some npm\npackages of my own, giving back to the open-source community.</p>\n<p>As I have used <a href=\"https://npmjs.com\">npmjs.com</a> more in the past few months, a\ncouple of the styles used on the package view page were just bugging me as they\ngave the page an unfinished and poorly styled look. So, with the help of the\nChrome Stylus extension I was able to add a couple quick styles to get the page\nlooking nice. The before and after of the page are shown below.</p>\n<div style=\"position:relative;overflow:hidden;user-select:none;-khtml-user-select:none;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none\" data-rcs=\"root\"><img alt=\"Old styles\" srcSet=\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fold.78e362dc.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fold.78e362dc.png&amp;w=3840&amp;q=75 2x\" src=\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fold.78e362dc.png&amp;w=3840&amp;q=75\" width=\"1524\" height=\"1298\" decoding=\"async\" data-nimg=\"1\" loading=\"lazy\" style=\"color:transparent;display:block;width:100%;height:100%;max-width:100%;box-sizing:border-box;object-fit:cover;object-position:center;background-size:cover;background-position:center;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http%3A//www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 8 7&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;1&#x27;/%3E%3C/filter%3E%3Cimage preserveAspectRatio=&#x27;none&#x27; filter=&#x27;url(%23b)&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; height=&#x27;100%25&#x27; width=&#x27;100%25&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAElBMVEX39/f+/v7t7ezj4+PNycevpKBGAGN5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKElEQVQImWNgYmZmZmJkZGRgZmKAABDNCBIBs0CABaQAJMIKY0BlGAEIHAA6vwM/fQAAAABJRU5ErkJggg==&#x27;/%3E%3C/svg%3E&quot;)\"/><div style=\"position:absolute;top:0;left:0;width:100%;height:100%;will-change:clip;user-select:none;-khtml-user-select:none;-moz-user-select:none;-webkit-user-select:none\" data-rcs=\"clip-item\"><img alt=\"New styles\" srcSet=\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fnew.aa8591da.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fnew.aa8591da.png&amp;w=3840&amp;q=75 2x\" src=\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fnew.aa8591da.png&amp;w=3840&amp;q=75\" width=\"1524\" height=\"1298\" decoding=\"async\" data-nimg=\"1\" loading=\"lazy\" style=\"color:transparent;display:block;width:100%;height:100%;max-width:100%;box-sizing:border-box;object-fit:cover;object-position:center;background-size:cover;background-position:center;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http%3A//www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 8 7&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;1&#x27;/%3E%3C/filter%3E%3Cimage preserveAspectRatio=&#x27;none&#x27; filter=&#x27;url(%23b)&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; height=&#x27;100%25&#x27; width=&#x27;100%25&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAElBMVEX5+Pj+/v7o5+by8vLLxsOypqKjxbqpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJ0lEQVQImTWJwQ0AIBCDCtX9VzZelBeEqJYQbYa2ARgZlrch+8sbHAnvAEi+U3XDAAAAAElFTkSuQmCC&#x27;/%3E%3C/svg%3E&quot;)\"/></div><div style=\"position:absolute;top:0;width:100%;height:100%;pointer-events:none\" data-rcs=\"handle-container\"><div style=\"position:absolute;height:100%;transform:translateX(-50%);pointer-events:all\"><div class=\"animate-[delay-appear_200ms_linear_200ms_forwards] text-teal-500 opacity-0 transition\" style=\"display:flex;flex-direction:column;place-items:center;height:100%;cursor:ew-resize;pointer-events:none\"><div class=\"__rcs-handle-line\" style=\"flex-grow:1;height:100%;width:2px;background-color:currentColor;pointer-events:auto;box-shadow:0 0 7px rgba(0,0,0,.35)\"></div><div class=\"__rcs-handle-button\" style=\"display:grid;grid-auto-flow:column;gap:8px;place-content:center;flex-shrink:0;width:56px;height:56px;border-radius:50%;border-style:solid;border-width:2px;pointer-events:auto;backdrop-filter:blur(7px);-webkit-backdrop-filter:blur(7px);box-shadow:0 0 7px rgba(0,0,0,.35);border-color:currentcolor\"><div style=\"width:0;height:0;border-top:8px solid transparent;border-right:10px solid;border-bottom:8px solid transparent\"></div><div style=\"width:0;height:0;border-top:8px solid transparent;border-right:10px solid;border-bottom:8px solid transparent;transform:rotate(180deg)\"></div></div><div class=\"__rcs-handle-line\" style=\"flex-grow:1;height:100%;width:2px;background-color:currentColor;pointer-events:auto;box-shadow:0 0 7px rgba(0,0,0,.35)\"></div></div></div></div></div>\n<p>Here is the code I used for this simple style adjustment.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#2AC3DE\">blockquote</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">&gt;</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#2AC3DE\">p</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#7AA2F7\">margin</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#FF9E64\">5</span><span style=\"color:#F7768E\">px</span><span style=\"color:#BB9AF7\"> </span><span style=\"color:#FF9E64\">0</span><span style=\"color:#BB9AF7\"> !important</span><span style=\"color:#89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#2AC3DE\">table</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ABDF5\">{</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">  </span><span style=\"color:#7AA2F7\">margin-bottom</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#9ABDF5\"> </span><span style=\"color:#FF9E64\">16</span><span style=\"color:#F7768E\">px</span><span style=\"color:#89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color:#9ABDF5\">}</span></span>\n<span class=\"line\"></span></code></pre>",
      "url": "https://mskelton.dev/blog/customizing-npm-styles",
      "title": "Customizing npmjs.com Styles",
      "summary": "Viewing npm packages on npmjs.com is a common tasks when developing front-end applications. In this article, I show a few small CSS customizations to improve the npmjs.com styles.",
      "date_modified": "2019-12-01T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/automated-npm-publishing-using-github-actions",
      "content_html": "<p>GitHub Actions are a great way to setup CI/CD tasks directly in your GitHub\nrepos for running tests, deploying code, publishing packages, and so much more.\nI’ve recently done some work to setup actions in my open source repositories for\neasily publishing npm packages without forcing me to run a bunch of commands\nfrom my local development machine. In this article, I’ll go through some basic\njobs that you can run using GitHub Actions to simplify the process of publishing\nnpm packages.</p>\n<h2 id=\"basic-publish-action\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#basic-publish-action\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Basic Publish Action</h2>\n<p>To get our feet wet with publishing npm packages using GitHub Actions, let’s\nstart by creating a simple action that will publish to npm when we push a new\nversion tag.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#F7768E\">name</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">Publish</span></span>\n<span class=\"line\"><span style=\"color:#FF9E64\">on</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">push</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">tags</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">v*.*.*</span></span>\n<span class=\"line\"><span style=\"color:#F7768E\">jobs</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">publish</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">runs-on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">ubuntu-latest</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">steps</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/checkout@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/setup-node@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">with</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">node-version</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\">16.x</span><span style=\"color:#89DDFF\">&#x27;</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">registry-url</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">https://registry.npmjs.org/</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">yarn</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">yarn publish</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">env</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">NODE_AUTH_TOKEN</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ secrets.NPM_TOKEN }}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This action is pretty basic and easy to understand. For the trigger, we use the\ntag pattern of <code>v*.*.*</code> to match semantic version tags (i.e. v1.0.0). When the\naction is triggered, we install dependencies by running <code>yarn</code> and then publish\nthe package to npm using <code>yarn publish</code>. This could be modified to use\n<code>npm install</code> and <code>npm publish</code> if you prefer npm over Yarn.</p>\n<p>An important part of this action is the <code>NODE_AUTH_TOKEN</code> environment variable\nwhich is required for authenticating with npm to publish the package. The\nexample above uses GitHub secrets for storing the token which can be generated\nin your npm profile.</p>\n<h2 id=\"publishing-a-release\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#publishing-a-release\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Publishing A Release</h2>\n<p>To publish a release with our new action, we can run <code>yarn publish</code> or\n<code>npm publish</code> to increment the package version in package.json and create a new\ngit tag which we will use to trigger our action. After running the publish\ncommand, we can run <code>git push &amp;&amp; git push --tags</code> to push our tag to GitHub and\nfire off our action!</p>\n<p><em>Hint: adding a <code>postversion</code> script to package.json will save us from having to\nrun the git push command every time we run our publish command. That script\nwould look like this <code>&quot;postversion&quot;: &quot;git push &amp;&amp; git push --tags&quot;</code> and should\nbe places in the <code>scripts</code> section of your package.json</em></p>\n<h2 id=\"creating-github-releases\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#creating-github-releases\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Creating GitHub Releases</h2>\n<p>Now that we have the basic publish action created, we can improve it so it will\nautomatically create a GitHub release with change notes pulled automatically\nfrom a <code>CHANGELOG.md</code> file. To make this easy, we will be using a custom GitHub\naction by <a href=\"https://github.com/Roang-zero1\">Roang-zero1</a> that will automate this\nentire process for us. To set this up, add the following job to your action.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#F7768E\">create-release</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">runs-on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">ubuntu-latest</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">steps</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/checkout@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">Roang-zero1/github-create-release-action@master</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#F7768E\">env</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">GITHUB_TOKEN</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ secrets.GITHUB_TOKEN }}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you can see, the only thing we need to do is use the\n<code>github-create-release-action</code> and set the <code>GITHUB_TOKEN</code> environment variable\nso the custom action can authenticate with GitHub to create the release and\nupload the change notes. The value of this is the <code>GITHUB_TOKEN</code> secret that is\n<a href=\"https://docs.github.com/en/actions/security-guides/automatic-token-authentication\">automatically available inside all GitHub actions</a>.</p>\n<h2 id=\"running-tests\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#running-tests\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Running Tests</h2>\n<p>While the above examples work great for simple packages where you just need to\npublish and create a release, most packages will probably have a suite of tests\nthat you will want to run before publishing and releasing. To update our action,\nwe are going to need to make a few changes.</p>\n<p>First, we will need to change the action trigger from on tags to on push. This\nway we can use the same action to run our tests on branches and pull requests.\nThe trigger should now look like this.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#FF9E64\">on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#9ECE6A\">push</span><span style=\"color:#89DDFF\">]</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Next, we will add a <code>test</code> job to the action that uses a matrix strategy to test\nour package against multiple node versions. You could also add OS versions to\nthe matrix but for our example we’ll keep it simple.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#F7768E\">test</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">runs-on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">ubuntu-latest</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">strategy</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">matrix</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#F7768E\">node-version</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#9ECE6A\">10.x</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">12.x</span><span style=\"color:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">steps</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/checkout@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/setup-node@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#F7768E\">with</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">node-version</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ matrix.node-version }}</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">yarn</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">yarn test</span></span>\n<span class=\"line\"></span></code></pre>\n<p>The last step is to update our other two jobs to depend on the test job and only\nrun on tags. By depending on the test job we can ensure that we don’t publish a\npackage until the tests have run and passed. Additionally, since we changed our\ntrigger from tags to any push, we need to add a conditional to ensure that the\npublish and release steps will only run for tags while the test can still run\nfor any push. We will need to add the following two lines to both the publish\nand release jobs.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#F7768E\">needs</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">test</span></span>\n<span class=\"line\"><span style=\"color:#F7768E\">if</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">startsWith(github.ref, &#x27;refs/tags/&#x27;)</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"putting-it-all-together\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#putting-it-all-together\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Putting It All together</h2>\n<p>Putting all three of these pieces together, our final action would look like\nthis. In some cases, you may not need all three of the jobs so you can easily\nmix and match to suit you needs.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#F7768E\">name</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">Test, Publish, &amp; Release</span></span>\n<span class=\"line\"><span style=\"color:#FF9E64\">on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#9ECE6A\">push</span><span style=\"color:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color:#F7768E\">jobs</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">test</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">runs-on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">ubuntu-latest</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">strategy</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#F7768E\">matrix</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">node-version</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">[</span><span style=\"color:#9ECE6A\">14.x</span><span style=\"color:#89DDFF\">,</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">16.x</span><span style=\"color:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">steps</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/checkout@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/setup-node@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">with</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">node-version</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ matrix.node-version }}</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">yarn</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">yarn test</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">publish</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">needs</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">test</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">runs-on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">ubuntu-latest</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">if</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">startsWith(github.ref, &#x27;refs/tags/&#x27;)</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">steps</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/checkout@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/setup-node@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">with</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">node-version</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\">16.x</span><span style=\"color:#89DDFF\">&#x27;</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">registry-url</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">https://registry.npmjs.org/</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">yarn</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">run</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">yarn publish</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">env</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">NODE_AUTH_TOKEN</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ secrets.NPM_TOKEN }}</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">  </span><span style=\"color:#F7768E\">create-release</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">needs</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">test</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">runs-on</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">ubuntu-latest</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">if</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">startsWith(github.ref, &#x27;refs/tags/&#x27;)</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">    </span><span style=\"color:#F7768E\">steps</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">actions/checkout@v3</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">      </span><span style=\"color:#9ABDF5\">-</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#F7768E\">uses</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">Roang-zero1/github-create-release-action@master</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">        </span><span style=\"color:#F7768E\">env</span><span style=\"color:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"color:#A9B1D6\">          </span><span style=\"color:#F7768E\">GITHUB_TOKEN</span><span style=\"color:#89DDFF\">:</span><span style=\"color:#A9B1D6\"> </span><span style=\"color:#9ECE6A\">${{ secrets.GITHUB_TOKEN }}</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"bonus-github-actions-badge\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#bonus-github-actions-badge\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Bonus: GitHub Actions Badge</h2>\n<p>Once you get your actions working, you may wish to add a status badge to your\nreadme to show if the build is passing or failing. GitHub Actions have builtin\nsupport for this which you can read more about on their\n<a href=\"https://docs.github.com/en/actions/learn-github-actions#adding-a-workflow-status-badge-to-your-repository\">official documentation</a>.</p>",
      "url": "https://mskelton.dev/blog/automated-npm-publishing-using-github-actions",
      "title": "Automated npm Publishing Using GitHub Actions",
      "summary": "Releasing npm packages can be a challenge. There are often many steps in the process and forgetting a step can result in a package being released incorrectly. In this article, I will show how to use GitHub Actions to automate some of the manual steps required to simplify your npm publishing workflow.",
      "date_modified": "2019-11-16T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/a-tale-of-two-ideas",
      "content_html": "<p>Every day, we encounter ideas and viewpoints that affect our lives in one way or\nanother. Sometimes we agree with the ideas we hear, other times we disagree, and\nmany times we aren’t immediately sure if we agree or disagree with the ideas we\nencounter. The challenge we face is discerning which ideas are true and which\nare false.</p>\n<p>While ideas come from a variety of sources, by far the easiest example of\nopposing ideas is politics (<em>don’t worry, this is not a political opinion\narticle</em>). Each election cycle, candidates give speeches and participate in\ndebates to make their ideas known in an effort to gain supporters who will vote\nfor them in the upcoming election. However, the decision rests with the voters\nwho must decide which candidate’s ideas most closely align with their own\nbeliefs.</p>\n<h2 id=\"forks-in-the-road\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#forks-in-the-road\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Forks in the Road</h2>\n<p><em>The remainder of this article discusses an example of opposing ideas from my\ncareer in the software development industry. As such, many readers will not find\nit very useful due to its technical nature. If you are interested in a more\ngeneral example, please let me know in the comments. Thanks!</em></p>\n<p>Over the last few months, I’ve been interested in the topic of testing React\ncomponents and I came across the concept of shallow rendering. In a nutshell,\nshallow rendering allows you to test React components without rendering their\nchild components. React’s documentation says the following about shallow\nrendering (<em>plus some other stuff not relevant to this article</em>).</p>\n<blockquote>\n<p>Shallow rendering lets you render a component “one level deep”, … This does\nnot require a DOM.</p>\n</blockquote>\n<p>While some believe that shallow rendering is a good technique for testing React\ncomponents, others disagree thus creating two opposing viewpoints of which\ntechnique is best. While I do not intend on giving my own thoughts on the\nsubject, I would like to share my thoughts about the two ideas as a way of\ndemonstrating how to discern between differing viewpoints.</p>\n<h2 id=\"zooming-out\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#zooming-out\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Zooming Out</h2>\n<p>Once you have identified a set of opposing viewpoints, it is helpful to “zoom\nout” from the specifics and look at what high-level differences exist between\nthe ideas. When we stay “zoomed in” we can miss important details and make poor\njudgement calls due to insufficient information. Often, the high-level\ndifferences result in a cascade of logic that eventually leads to the details\nthat appear to be radically different from each other even though they stem from\nsimilar but slightly different high-level viewpoints.</p>\n<p>For my shallow rendering investigation, I compared an article by\n<a href=\"https://kentcdodds.com\">Kent C. Dodds</a> called\n”<a href=\"https://kentcdodds.com/blog/why-i-never-use-shallow-rendering\">Why I Never Use Shallow Rendering</a>”\nwith an article by <a href=\"https://twitter.com/TimCDoherty\">Tim Doherty</a> called\n”<a href=\"https://javascript.plainenglish.io/in-defense-of-shallow-rendering-5f627f7c155d\">In Defense of Shallow Rendering</a>”.\nWhile you may find other differences, I found two high-level differences between\nthe articles (<em>again, I’m saving my opinions for a different article</em>). The two\ndifferences I identified were:</p>\n<ul>\n<li>Overall testing methodology (testing pyramid vs testing trophy)</li>\n<li>Definition of “implementation details”</li>\n</ul>\n<h3 id=\"testing-methodology\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#testing-methodology\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Testing Methodology</h3>\n<p>One of the biggest differences between the two opinions on shallow rendering, as\ndiscussed in the aforementioned articles, is the overall testing methodology.\nKent developed the “testing trophy” methodology where integration tests are\nfavored over unit tests whereas Tim subscribes to the more traditional “testing\npyramid” where unit tests are favored over integration tests. This difference in\nhow testing should be approached is a big reason why they differ on the idea of\nshallow rendering.</p>\n<h3 id=\"implementation-details\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#implementation-details\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Implementation Details</h3>\n<p>Another difference I noticed was the definition of “implementation details”.\nWhile both Tim and Kent discuss implementation details, they use it to mean very\ndifferent things. For example, Tim mentions in his article that “the DOM is an\nimplementation detail” and goes on to say that child components are\nimplementation details when testing a parent component. Kent looks at\nimplementation details from the user’s perspective in which case the DOM would\nnot be an implementation detail but instead a necessary part of the code. These\ndifference perspectives on implementation details further explain why the two\nauthors have very different thoughts on shallow rendering.</p>\n<h2 id=\"making-the-judgement-call\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#making-the-judgement-call\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Making the Judgement Call</h2>\n<p>So, the question you are probably asking yourself is “which approach is right?”\nHowever, this is not always the best question to ask. While it is often the case\nwhere one idea is right and another idea is wrong, there are instances where\nboth ideas are right depending on the context or use. Remember that the goal is\nnot always to find which idea is right and parade that idea through the streets\nin a triumphal procession; sometimes simply understanding each idea thoroughly\nwill help you achieve the results you desire.</p>\n<p>In most cases, there comes a time to make the judgement call and decide which\nidea you believe to be true. When you do, be prepared for others to disagree\nwith your conclusion and be willing to accept their feedback. Hearing feedback\nfrom others or searching for more information yourself may result in your\nopinion changing on a subject, and that’s okay! Making incorrect judgements,\nwhile undesirable, should be viewed as a learning opportunity rather than a\nfailure.</p>\n<p>Making a decision on a subject can be scary at times especially if the decision\ncould have an impact on those around you such as your family, friends, or\nemployer. We have all likely heard of people who made simple decisions that\nresulted in a massive problem down the road and while this does happen, don’t\nlet that stop you from making your decision and moving on. I’ve made many\ndecisions in my career that I later found were less than ideal or just flat out\nwrong! The key in situations like this is simple: learn from the poor decision,\nchange your future decisions, and move on with your life 🙂</p>\n<p><em>If you are interested in the follow up article I wrote to this about my\npersonal opinions on shallow rendering, check it out\n<a href=\"/blog/the-dangers-of-shallow-rendering\">here</a>!</em></p>",
      "url": "https://mskelton.dev/blog/a-tale-of-two-ideas",
      "title": "A Tale of Two Ideas",
      "summary": "Every day, we encounter ideas and viewpoints that affect our lives in one way or another. In this article, I discuss how to look at differing ideas more objectively to help you make better decisions at work and in your personal life.",
      "date_modified": "2019-11-02T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    },
    {
      "id": "https://mskelton.dev/blog/my-experience-changing-my-github-username",
      "content_html": "<p>I created my GitHub account about 3 years ago while working at my first software\ndevelopment job. At the time, Python was one of my primary languages for\npersonal projects and was the inspiration for my first StackOverflow and GitHub\nusername: <code>markypython</code>.</p>\n<p>Since that time however, my usage of Python has decreased dramatically as I\nmoved into JavaScript and Node.js development. I also had begun to use the\nusername <code>mskelton</code> for most of my other accounts and the inconsistency annoyed\nme. However, some initial research into changing my GitHub username got me\npretty frightened and I seriously questioned if it was worth it. Nevertheless,\nthe desire to change my username remained and I eventually decided to do it.</p>\n<h2 id=\"determining-the-impact\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#determining-the-impact\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Determining the Impact</h2>\n<p>The first important step in changing my username was determining what the impact\nof changing it would be. While\n<a href=\"https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-user-account/managing-user-account-settings/changing-your-github-username\">GitHub’s documentation</a>\nprovided some helpful information, I also found two articles by others who have\nchanged their GitHub username that provided good information about what could\nbreak when you changing your username. I have linked those articles below.</p>\n<ul>\n<li><a href=\"https://www.freecodecamp.org/news/a-quick-guide-to-changing-your-github-username/\">A quick guide to changing your GitHub username</a></li>\n<li><a href=\"https://www.nikhita.dev/changing-my-github-username\">Changing my GitHub username</a></li>\n</ul>\n<p>I was quite fortunate because I don’t use GitHub pages, Netlify, or any other\nservice that uses a <code>username.github.io</code> url, so a number of the steps in those\narticles did not apply to me. In the end, the changes I was</p>\n<ul>\n<li>Repository links in <code>package.json</code> and readme files.</li>\n<li>Changelogs or contribution links in repositories I’ve contributed to.</li>\n<li>VSCode and JetBrains extension links</li>\n<li>Travis CI</li>\n<li>Git config files</li>\n</ul>\n<h2 id=\"taking-the-plunge\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#taking-the-plunge\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Taking the Plunge</h2>\n<p>Once I was reasonably confident of the impact, I decided to take the plunge and\nrename my account. I had already secured my new username and had created a\nseparate GitHub account for it while I prepared for the rename. Once I was ready\nto go, I deleted the temporary account and then renamed my main account to the\nnew username. GitHub did its thing and within a minute it had successfully\nchanged my username. Hooray 🎉</p>\n<p>After renaming your username, the first step you should take is squatting your\nold username. I’ll explain more about this in the next section, but you’ll want\nto make sure that you do this immediately after renaming your account.</p>\n<p>Once my account was renamed, I started updating my repos in order of most used\nto least used. I maintain a JetBrains plugin and two VS Code plugins, so I\nstarted with those so I could get a new patch release out with my updating\nusername. I use Travis CI for these plugins, and I found that you need to login\nto your Travis account and click the sync account button in your account\nsettings for Travis to update to use your new username. Codecov was similar to\nTravis CI, but I found that I needed to logout and then log back in for the\nusername change to be applied.</p>\n<p>When making updates to your repos, take advantage of GitHub’s search feature\nwhich allows you to search all of GitHub for a piece of text. This was very\nhelpful in determining where my username was being used especially for repos\nI’ve contributed to. I even found a repo I didn’t know existed which was based\non one of my repos!</p>\n<p>Updating my Git config files was fairly painless by running <code>grep</code> to find which\nof my projects needed updating.</p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#A9B1D6\">grep markypython </span><span style=\"color:#89DDFF\">*</span><span style=\"color:#A9B1D6\">/.git/config</span></span>\n<span class=\"line\"></span></code></pre>\n<p>After getting that list, I just did some VS Code multi-cursor editing to\ngenerate a list of <code>sed</code> commands that looked like this. <em>This worked on macOS,\nbut if you use another Unix-based OS, your mileage may vary.</em></p>\n<pre class=\"shiki\" style=\"background-color:#24283b\"><code><span class=\"line\"><span style=\"color:#A9B1D6\">sed -i </span><span style=\"color:#89DDFF\">&#x27;&#x27;</span><span style=\"color:#A9B1D6\"> -e </span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#9ECE6A\">s/markypython/mskelton/</span><span style=\"color:#89DDFF\">&#x27;</span><span style=\"color:#A9B1D6\"> dotfiles/.git/config</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"squatting-your-old-username\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#squatting-your-old-username\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Squatting Your Old Username</h2>\n<p>When you rename your account, GitHub will setup redirects from your old username\nto your new username, but if someone takes over your new username and creates a\nrepo with the same name, those redirects will no longer go to your repository.\nTo prevent this, create a new account with your old username and clearly\nidentify that you renamed your main account.</p>\n<p><img src=\"blog/username.png\" alt=\"Old username clearly indicating that the account was renamed.\"/></p>\n<p>An important note about squatting your old username is that GitHub prohibits\nname squatting and holding names for future use in their\n<a href=\"https://docs.github.com/en/github/site-policy/github-username-policy\">username policy</a>.\nBecause of this policy, I would recommend squatting your old username for a\nmonth or two and then deleting your old account so it is available for other\nusers in the future.</p>\n<h2 id=\"wrapping-it-up\"><a aria-hidden=\"true\" tabindex=\"-1\" href=\"#wrapping-it-up\"><span class=\"relative md:before:content-[&#x27;#&#x27;] before:absolute before:right-2\"></span></a>Wrapping It Up</h2>\n<p>Aside from the decision to start the processing of renaming my account at 9:30\nPM on a Friday night, I am very happy that I decided to rename my account as it\nwas not nearly as bad as I thought it would be. The changes required are mostly\nbusy-work and don’t require a huge amount of effort. I wish the best to anyone\nelse who embarks on the same journey of renaming their GitHub account and I hope\nthis article was helpful in explaining some of that process!</p>\n<p>You can view my GitHub repository with my new username at\n<a href=\"https://github.com/mskelton\">github.com/mskelton</a>.</p>",
      "url": "https://mskelton.dev/blog/my-experience-changing-my-github-username",
      "title": "My Experience Changing my GitHub Username",
      "summary": "Are you considering changing your GitHub username? In this article, I discuss everything I learned when changing my GitHub username to help you understand the steps required in this process.",
      "date_modified": "2019-10-19T00:00:00.000Z",
      "author": {
        "name": "Mark Skelton"
      }
    }
  ]
}
